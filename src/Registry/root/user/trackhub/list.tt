[% META title = 'TrackHubs' %]
[% PROCESS user/user_nav.tt %]

<div class="page-header">
  <h3>Your track collections</h3>
</div>
<div class="row">
  <div class="col-sm-12">
    <table class="table table-condensed">
      <thead>
        <tr>
	  <th>Id</td>
          <th>Hub</th>
          <th>Assembly</th>
          <th>JSON Schema</th>
	  <th></th>
          <th>Status</th>
        </tr>
    </thead>
    <tbody>
      [% FOR trackhub IN trackhubs %]
      <tr>
        <td style="word-wrap: break-word;">[% trackhub.id %]</td>
	<td style="word-wrap: break-word;">[% trackhub.hub.name %]</td>
	<td style="word-wrap: break-word;">[% trackhub.assembly.name %]</td>
	<td style="word-wrap: break-word;">[% trackhub.version %]</td>
	<td>
          <div class="btn-group">
            <a class="btn btn-default btn-xs" href="[% c.uri_for(c.controller.action_for('view_trackhub'), [user.username, trackhub.id]) %]" rel="tooltip" title="View"><span class="glyphicon glyphicon-search"></a>
            <a class="btn btn-default btn-xs" href="[% c.uri_for(c.controller.action_for('delete_trackhub'), [user.username, trackhub.id]) %]" rel="tooltip" title="Delete"><span class="glyphicon glyphicon-trash"></a>
          </div>
	</td>
        [% USE Math; r = GET Math.rand(1) %]
	<td style="word-wrap: break-word;">
	[% IF r < 0.8 %]
	  <span class="label label-success">All is well</span>
	[% ELSE %]
	  <span class="label label-danger">Remote data unavailable</span>
	[% END %]
	</td>
      </tr>
      [% END %]
    </tbody>
  </table>
  </div>

  <!--
  <table id="trackhubs" class="table table-bordered table-striped tablesorter" summary="The list of all trackhubs">
    <thead>
      <tr>
        [% FOR column IN columns %]
        <th scope="col">[% column %]</th>
        [% END %]
      </tr>
    </thead>
    <tbody>
      [% FOR trackhub IN trackhubs %]
      <tr>
        [% FOR column IN columns %]
        <td>[% trackhub.$column | html %]</td>
        [% END %]
      </tr>
      [% END %]
    </tbody>
  </table>
  -->

</div>
